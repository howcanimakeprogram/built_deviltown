# Devil Town Running Coach - ì‹œìŠ¤í…œ ì „ì²´ ë¬¸ì„œ

## ğŸ“š ëª©ì°¨
1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [ì•„í‚¤í…ì²˜](#ì•„í‚¤í…ì²˜)
3. [ì„¤ì¹˜ ë° ì„¤ì •](#ì„¤ì¹˜-ë°-ì„¤ì •)
4. [ì‚¬ìš© ë°©ë²•](#ì‚¬ìš©-ë°©ë²•)
5. [API ë¬¸ì„œ](#api-ë¬¸ì„œ)
6. [í˜ë¥´ì†Œë‚˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•](#í˜ë¥´ì†Œë‚˜-ì»¤ìŠ¤í„°ë§ˆì´ì§•)
7. [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)
8. [ìœ ì§€ë³´ìˆ˜](#ìœ ì§€ë³´ìˆ˜)

---

## ì‹œìŠ¤í…œ ê°œìš”

### í”„ë¡œì íŠ¸ ëª©ì 
Devil Town ì›¹ì‚¬ì´íŠ¸ì— í†µí•©ëœ AI ëŸ¬ë‹ ì½”ì¹˜ë¡œ, ì‚¬ìš©ìì—ê²Œ ê±°ì¹œ ìš•ì„¤ê³¼ íŒ©íŠ¸ í­ê²©ì„ í†µí•´ ë™ê¸°ë¶€ì—¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### í•µì‹¬ ê¸°ëŠ¥
- ğŸ’¬ **ì‹¤ì‹œê°„ ì±„íŒ…**: ëŒ€í™” íˆìŠ¤í† ë¦¬ë¥¼ ìœ ì§€í•˜ë©° ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™”
- ğŸ­ **í˜ë¥´ì†Œë‚˜**: "ë§¤ë¯¸í‚´ ë§› ì°ì¹œ" ìŠ¤íƒ€ì¼ì˜ ìš•ìŸì´ ì½”ì¹˜
- ğŸ¨ **ì•„ìŠ¤í‚¤ ì•„íŠ¸**: ì¬ë¯¸ìˆëŠ” ì´ëª¨í‹°ì½˜ìœ¼ë¡œ ì‘ë‹µ ê°•í™”
- ğŸƒ **ì „ë¬¸ ì¡°ì–¸**: ëŸ¬ë‹ ìì„¸, ì¥ë¹„, ë¶€ìƒ ê´€ë¦¬ ë“± ì‹¤ìš©ì  ì •ë³´

### ê¸°ìˆ  ìŠ¤íƒ
```
Frontend: HTML5 + CSS3 + Vanilla JavaScript
Backend: Python 3.8+ (FastAPI)
AI: Google Gemini 2.0 Flash
Server: Uvicorn (ASGI)
```

---

## ì•„í‚¤í…ì²˜

### ì‹œìŠ¤í…œ êµ¬ì¡°ë„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Browser (Client)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Devil Town Website (index.html)         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  Devil Coach Section               â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  - Chat UI (coachChatMessages)     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  - Input Field (coachInput)        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  - Send Button (coachSendBtn)      â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ HTTP POST /chat
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         FastAPI Backend (main.py)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  CORS Middleware                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  /chat Endpoint                          â”‚   â”‚
â”‚  â”‚  - Receive: {message, history}           â”‚   â”‚
â”‚  â”‚  - Load: system_prompt.md                â”‚   â”‚
â”‚  â”‚  - Call: Gemini API                      â”‚   â”‚
â”‚  â”‚  - Return: {response}                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ API Call
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Google Gemini API                        â”‚
â”‚  - Model: gemini-2.0-flash-exp                   â”‚
â”‚  - System Instruction: ë§¤ë¯¸í‚´ ë§› ì°ì¹œ í˜ë¥´ì†Œë‚˜    â”‚
â”‚  - Temperature: 1.0                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° íë¦„
1. **ì‚¬ìš©ì ì…ë ¥** â†’ `coachInput` í•„ë“œì— ë©”ì‹œì§€ ì…ë ¥
2. **í”„ë¡ íŠ¸ì—”ë“œ** â†’ `devil_coach_chat.js`ê°€ `/chat`ìœ¼ë¡œ POST ìš”ì²­
3. **ë°±ì—”ë“œ** â†’ `main.py`ê°€ ìš”ì²­ ìˆ˜ì‹  ë° ê²€ì¦
4. **AI ì²˜ë¦¬** â†’ Gemini APIì— ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ + íˆìŠ¤í† ë¦¬ + ë©”ì‹œì§€ ì „ë‹¬
5. **ì‘ë‹µ ìƒì„±** â†’ AIê°€ í˜ë¥´ì†Œë‚˜ì— ë§ëŠ” ì‘ë‹µ ìƒì„±
6. **í”„ë¡ íŠ¸ì—”ë“œ** â†’ ì‘ë‹µì„ ì±„íŒ…ì°½ì— í‘œì‹œ

---

## ì„¤ì¹˜ ë° ì„¤ì •

### 1. ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­
- Python 3.8 ì´ìƒ
- pip (Python íŒ¨í‚¤ì§€ ê´€ë¦¬ì)
- ì¸í„°ë„· ì—°ê²° (Gemini API í˜¸ì¶œìš©)
- Google Gemini API í‚¤

### 2. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
cd "/Users/chaehyeonbyeongsin/Desktop/ì½”ë”©/ë°ë¹Œíƒ€ìš´ ì›¹ì‚¬ì´íŠ¸"
pip install -r requirements.txt
```

**ì„¤ì¹˜ë˜ëŠ” íŒ¨í‚¤ì§€**:
- `fastapi==0.104.1`: ì›¹ í”„ë ˆì„ì›Œí¬
- `uvicorn==0.24.0`: ASGI ì„œë²„
- `google-generativeai==0.3.1`: Gemini API í´ë¼ì´ì–¸íŠ¸
- `python-dotenv==1.0.0`: í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

### 3. API í‚¤ ì„¤ì •
`.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  Google Gemini API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”:
```env
GOOGLE_API_KEY=your_actual_api_key_here
```

API í‚¤ëŠ” [Google AI Studio](https://aistudio.google.com/)ì—ì„œ ë°œê¸‰ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> âš ï¸ **ë³´ì•ˆ ì£¼ì˜**: `.env` íŒŒì¼ì€ ì ˆëŒ€ Gitì— ì»¤ë°‹í•˜ì§€ ë§ˆì„¸ìš”!

### 4. ì„œë²„ ì‹¤í–‰
```bash
# ë°©ë²• 1: ì§ì ‘ ì‹¤í–‰
python main.py

# ë°©ë²• 2: uvicorn ì‚¬ìš©
uvicorn main:app --reload --host 127.0.0.1 --port 8000
```

**ì‹¤í–‰ í™•ì¸**:
```
INFO:     Started server process [12345]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000
```

---

## ì‚¬ìš© ë°©ë²•

### ì›¹ ì¸í„°í˜ì´ìŠ¤ ì ‘ì†
1. ë¸Œë¼ìš°ì €ì—ì„œ `http://127.0.0.1:8000` ì ‘ì†
2. ìš°ì¸¡ ìƒë‹¨ **MENU** ë²„íŠ¼ í´ë¦­
3. **Devil Coach (AI)** ì„ íƒ

### ì±„íŒ… ì‹œì‘
- ì…ë ¥ì°½ì— ë©”ì‹œì§€ ì…ë ¥
- **Enter** í‚¤ ë˜ëŠ” **ë³´ë‚´ê¸°** ë²„íŠ¼ í´ë¦­
- AI ì‘ë‹µ ëŒ€ê¸° (ë³´í†µ 2-5ì´ˆ)

### ëŒ€í™” ì˜ˆì‹œ

**ì‚¬ìš©ì**: "ì˜¤ëŠ˜ 10km ë›°ë ¤ëŠ”ë° ì¤€ë¹„ìš´ë™ ë­í•´?"

**AI ì‘ë‹µ**:
```
ì•¼, ê·¸ëƒ¥ ë›°ë©´ ë¬´ë¦ ê³¨ë¡œ ê°„ë‹¤ â˜ ï¸

ë”± 3ê°œë§Œ í•˜ê³  ë›°ì–´ë¼:
1. ë°œëª© ëŒë¦¬ê¸°: ì–‘ìª½ 20ë²ˆì”©
2. ë¬´ë¦ ëŒë¦¬ê¸°: ì•‰ì•˜ë‹¤ ì¼ì–´ë‚¬ë‹¤ 10ë²ˆ
3. ì œìë¦¬ ë›°ê¸° 1ë¶„: ì‹¬ì¥í•œí…Œ ì‹ í˜¸ ì¤˜ì•¼ì§€

ë‹¤ í–ˆìœ¼ë©´ íŠ€ì–´ ë‚˜ê°€! Îµ=Îµ=Îµ=Îµ=â”Œ(;ï¿£â–½ï¿£)â”˜
```

---

## API ë¬¸ì„œ

### POST /chat

**Endpoint**: `http://127.0.0.1:8000/chat`

**Request Body**:
```json
{
  "message": "ì˜¤ëŠ˜ ì¶¥ë„¤, ë›°ê¸° ì‹«ì€ë°?",
  "history": [
    {
      "role": "user",
      "content": "ì•ˆë…•"
    },
    {
      "role": "assistant",
      "content": "ì•¼ ìƒˆë¼ì•¼, ë­ ë¬¼ì–´ë³¼ ê±° ìˆëƒ?"
    }
  ]
}
```

**Response**:
```json
{
  "response": "ì«„? à² _à²  ë‚ ë„ ì¢‹ì€ë° ì«„ì•˜ë„¤ ì‰ë¼. ê± ë›°ë©´ ëª¸ì—ì„œ ìš©ì•” ë‚˜ì˜´ã…‹ã…‹ã…‹"
}
```

**Error Response** (500):
```json
{
  "detail": "API Key not configured"
}
```

### íˆìŠ¤í† ë¦¬ ê´€ë¦¬
- í”„ë¡ íŠ¸ì—”ë“œì—ì„œ `chatHistory` ë°°ì—´ë¡œ ê´€ë¦¬
- ê° ë©”ì‹œì§€ëŠ” `{role: 'user'|'assistant', content: string}` í˜•ì‹
- ë°±ì—”ë“œë¡œ ì „ì†¡ ì‹œ Gemini API í˜•ì‹ìœ¼ë¡œ ë³€í™˜

---

## í˜ë¥´ì†Œë‚˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### system_prompt.md ìˆ˜ì •

íŒŒì¼ ìœ„ì¹˜: [`system_prompt.md`](file:///Users/chaehyeonbyeongsin/Desktop/ì½”ë”©/ë°ë¹Œíƒ€ìš´ ì›¹ì‚¬ì´íŠ¸/system_prompt.md)

**ìˆ˜ì • ê°€ëŠ¥í•œ ìš”ì†Œ**:

1. **ë§íˆ¬ ì¡°ì •**
   - ìš•ì„¤ ê°•ë„ ì¡°ì ˆ
   - ì‚¬íˆ¬ë¦¬ ë³€ê²½ (ê²½ìƒë„ â†’ ì „ë¼ë„ ë“±)

2. **ì‹ ì²´ ë¶€ìœ„ í˜¸ì¹­**
   ```markdown
   - ì… -> ì•„ê°€ë¦¬ (ë˜ëŠ” ì£¼ë‘¥ì´)
   - ë¨¸ë¦¬ -> ëŒ€ê°€ë¦¬ (ë˜ëŠ” ëŠ¥ì§€)
   ```

3. **ìƒí™©ë³„ ëŒ€ì‘ ì¶”ê°€**
   ```markdown
   ### [ìƒí™©: ìƒˆë¡œìš´ ìƒí™©]
   - **ì›ì¹™:** ...
   - "ë‹µë³€ ì˜ˆì‹œ..."
   ```

4. **ì•„ìŠ¤í‚¤ ì•„íŠ¸ ì¶”ê°€**
   - ìƒˆë¡œìš´ ì´ëª¨í‹°ì½˜ì„ ì„¹ì…˜ 4ì— ì¶”ê°€
   - ì‚¬ìš© ì˜ˆì‹œ ì‘ì„±

### ë³€ê²½ ì‚¬í•­ ì ìš©
- `system_prompt.md` ì €ì¥ í›„ ì„œë²„ ì¬ì‹œì‘ **ë¶ˆí•„ìš”**
- ê° ìš”ì²­ë§ˆë‹¤ íŒŒì¼ì„ ìƒˆë¡œ ì½ì–´ì˜´

---

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë¬¸ì œ 1: "API Key not configured" ì—ëŸ¬
**ì›ì¸**: `.env` íŒŒì¼ì´ ì—†ê±°ë‚˜ API í‚¤ê°€ ì˜ëª»ë¨

**í•´ê²°ì±…**:
```bash
# .env íŒŒì¼ í™•ì¸
cat .env

# API í‚¤ ì¬ì„¤ì •
echo "GOOGLE_API_KEY=your_key_here" > .env
```

### ë¬¸ì œ 2: CORS ì—ëŸ¬
**ì¦ìƒ**: ë¸Œë¼ìš°ì € ì½˜ì†”ì— "Access-Control-Allow-Origin" ì—ëŸ¬

**í•´ê²°ì±…**:
- `main.py`ì˜ CORS ì„¤ì • í™•ì¸
- ì´ë¯¸ `allow_origins=["*"]`ë¡œ ì„¤ì •ë˜ì–´ ìˆìŒ

### ë¬¸ì œ 3: í¬íŠ¸ ì¶©ëŒ
**ì¦ìƒ**: "Address already in use" ì—ëŸ¬

**í•´ê²°ì±…**:
```bash
# 8000 í¬íŠ¸ ì‚¬ìš© ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸
lsof -i :8000

# í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
kill -9 <PID>
```

### ë¬¸ì œ 4: ì‘ë‹µì´ ë„ˆë¬´ ëŠë¦¼
**ì›ì¸**: Gemini API í˜¸ì¶œ ì§€ì—°

**í•´ê²°ì±…**:
- ì¸í„°ë„· ì—°ê²° í™•ì¸
- API í‚¤ í• ë‹¹ëŸ‰ í™•ì¸ (Google AI Studio)
- `generation_config`ì˜ `max_output_tokens` ì¤„ì´ê¸°

### ë¬¸ì œ 5: ì±„íŒ…ì°½ì´ ë³´ì´ì§€ ì•ŠìŒ
**ì›ì¸**: JavaScript ë¡œë”© ì‹¤íŒ¨

**í•´ê²°ì±…**:
```bash
# ë¸Œë¼ìš°ì € ì½˜ì†” í™•ì¸ (F12)
# devil_coach_chat.js ë¡œë”© í™•ì¸
```

---

## ìœ ì§€ë³´ìˆ˜

### ë¡œê·¸ í™•ì¸
ì„œë²„ ì‹¤í–‰ ì‹œ í„°ë¯¸ë„ì— ë¡œê·¸ ì¶œë ¥:
```
INFO:     127.0.0.1:52345 - "POST /chat HTTP/1.1" 200 OK
```

### API ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
- [Google AI Studio](https://aistudio.google.com/) ì ‘ì†
- API í‚¤ ì‚¬ìš©ëŸ‰ í™•ì¸
- ë¬´ë£Œ í• ë‹¹ëŸ‰: ë¶„ë‹¹ 60íšŒ ìš”ì²­

### ë°±ì—… ê¶Œì¥ ì‚¬í•­
**ì¤‘ìš” íŒŒì¼**:
- `system_prompt.md`: í˜ë¥´ì†Œë‚˜ ì •ì˜
- `.env`: API í‚¤ (Git ì œì™¸)
- `main.py`: ë°±ì—”ë“œ ë¡œì§
- `js/devil_coach_chat.js`: ì±„íŒ… ë¡œì§

### ì—…ë°ì´íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] `requirements.txt` ì˜ì¡´ì„± ë²„ì „ í™•ì¸
- [ ] Gemini API ëª¨ë¸ ë²„ì „ í™•ì¸ (`gemini-2.0-flash-exp`)
- [ ] ë³´ì•ˆ íŒ¨ì¹˜ ì ìš©
- [ ] `system_prompt.md` ê°œì„  ì‚¬í•­ ë°˜ì˜

### ì„±ëŠ¥ ìµœì í™”
1. **ìºì‹±**: ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ ì‘ë‹µ ìºì‹± (ì„ íƒì‚¬í•­)
2. **Rate Limiting**: ê³¼ë„í•œ ìš”ì²­ ë°©ì§€
3. **ë¡œê¹…**: ì—ëŸ¬ ì¶”ì ìš© ë¡œê¹… ì¶”ê°€

---

## íŒŒì¼ êµ¬ì¡° ìƒì„¸

```
ë°ë¹Œíƒ€ìš´ ì›¹ì‚¬ì´íŠ¸/
â”œâ”€â”€ main.py                    # FastAPI ë°±ì—”ë“œ ì„œë²„
â”‚   â”œâ”€â”€ CORS ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ /chat ì—”ë“œí¬ì¸íŠ¸
â”‚   â””â”€â”€ Gemini API í†µí•©
â”‚
â”œâ”€â”€ system_prompt.md           # AI í˜ë¥´ì†Œë‚˜ ì •ì˜
â”‚   â”œâ”€â”€ ë§íˆ¬ ê°€ì´ë“œ
â”‚   â”œâ”€â”€ ìƒí™©ë³„ ëŒ€ì‘
â”‚   â””â”€â”€ ì•„ìŠ¤í‚¤ ì•„íŠ¸
â”‚
â”œâ”€â”€ .env                       # í™˜ê²½ ë³€ìˆ˜ (API í‚¤)
â”œâ”€â”€ .env.example               # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”œâ”€â”€ .gitignore                 # Git ì œì™¸ íŒŒì¼
â”œâ”€â”€ requirements.txt           # Python ì˜ì¡´ì„±
â”œâ”€â”€ README.md                  # í”„ë¡œì íŠ¸ ì„¤ëª…
â”‚
â”œâ”€â”€ index.html                 # ë©”ì¸ HTML
â”‚   â”œâ”€â”€ ë©”ë‰´ êµ¬ì¡°
â”‚   â”œâ”€â”€ Skull Game ì„¹ì…˜
â”‚   â””â”€â”€ Devil Coach ì„¹ì…˜ (ì±„íŒ… UI)
â”‚
â”œâ”€â”€ css/
â”‚   â””â”€â”€ style.css              # Devil Town ìŠ¤íƒ€ì¼
â”‚
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ script.js              # ë©”ì¸ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ devil_coach.js         # ê¸°ì¡´ ë‹¨ë°œì„± ì½”ì¹˜
â”‚   â””â”€â”€ devil_coach_chat.js    # ì±„íŒ… ê¸°ëŠ¥ âœ¨
â”‚       â”œâ”€â”€ sendCoachMessage()
â”‚       â”œâ”€â”€ addCoachMessage()
â”‚       â””â”€â”€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
â”‚
â””â”€â”€ static/                    # FastAPIìš© ë…ë¦½ ë²„ì „
    â”œâ”€â”€ index.html
    â”œâ”€â”€ style.css
    â””â”€â”€ script.js
```

---

## 2. System Architecture

```mermaid
graph TD
    User([User]) -->|HTTPS Request| CF[Cloudflare Edge]
    CF -->|Encrypted Tunnel| Tunnel[Cloudflared (Home Server)]
    Tunnel -->|Forward Request| FastAPI[FastAPI Backend (Port 8000)]
    
    subgraph "Home Server (MacBook)"
        Tunnel
        FastAPI
        Static[Static Files (HTML/CSS/JS)]
        Logic[Business Logic]
    end
    
    FastAPI -->|Serve| Static
    FastAPI -->|Process| Logic
    Logic -->|API Call| Gemini[Google Gemini API]
```

### Component Description
-   **Frontend**: Single Page Application (SPA) served by FastAPI.
-   **Backend**: FastAPI server handling static files and API requests.
-   **AI Engine**: Google Gemini 1.5 Pro for generating coach responses.
-   **Infrastructure**: Self-hosted on Windows Mini PC (Production) & MacBook (Dev), exposed via Cloudflare Tunnel.

### 2.1 Server Infrastructure Details

| Role | Device | OS | Specs | Location | Project Path |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **Production** | Windows Mini PC | Windows 11 | Intel N100 / 16GB RAM | Home Server | `[To be configured]` |
| **Development** | MacBook Pro | macOS | M-Series / 16GB+ RAM | Local Dev | `/Users/chaehyeonbyeongsin/Desktop/ì½”ë”©/ë°ë¹Œíƒ€ìš´ ì›¹ì‚¬ì´íŠ¸` |

### 2.2 Cloudflare Tunnel Configuration (Windows)
To expose the local Windows server to the internet using the custom domain:

1.  **Install Cloudflared**:
    ```powershell
    winget install Cloudflare.cloudflared
    ```
2.  **Login & Create Tunnel**:
    ```powershell
    cloudflared tunnel login
    cloudflared tunnel create deviltown
    ```
3.  **Connect Domain**:
    ```powershell
    cloudflared tunnel route dns deviltown welcometodeviltown.com
    cloudflared tunnel route dns deviltown www.welcometodeviltown.com
    ```
4.  **Run Tunnel**:
    ```powershell
    cloudflared tunnel run deviltown
    ```

---

## ë¼ì´ì„ ìŠ¤ ë° í¬ë ˆë”§

**ê°œë°œ**: Devil Town Team  
**AI**: Google Gemini 2.0 Flash  
**í”„ë ˆì„ì›Œí¬**: FastAPI  
**í˜ë¥´ì†Œë‚˜**: ê¹€ë™í˜„(ë§¤ë¯¸í‚´) ë°ˆ ì˜ê°

---

## ì—°ë½ì²˜ ë° ì§€ì›

ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ê°œì„  ì œì•ˆì´ ìˆìœ¼ì‹œë©´:
1. GitHub Issues ë“±ë¡
2. í”„ë¡œì íŠ¸ ê´€ë¦¬ìì—ê²Œ ì—°ë½
3. `system_prompt.md` ì§ì ‘ ìˆ˜ì • í›„ PR

**Happy Running! ğŸƒâ€â™‚ï¸ğŸ’¨**
